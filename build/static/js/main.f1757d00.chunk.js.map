{"version":3,"sources":["actions/utils.js","actions/index.ts","reducers/counters.ts","reducers/user.ts","consts/index.ts","algrithm/calculateHighlight.ts","algrithm/generateSudoku.ts","algrithm/conflictDetect.ts","reducers/game.ts","reducers/index.ts","styles/snackBar.tsx","components/SnackBar/index.tsx","styles/progress.tsx","components/Progress/index.tsx","styles/index.tsx","styles/drawer.tsx","components/Drawer/index.tsx","styles/modal.tsx","components/Modal/index.tsx","styles/appBar.tsx","styles/enlargeableImg.tsx","components/EnlargeableImg/index.tsx","styles/messenger.tsx","components/SmallComponents/AvatarSvg.tsx","components/Messenger/index.tsx","containers/Messenger/index.ts","components/AppBar/index.tsx","containers/AppBar/index.ts","styles/frame.tsx","components/Frame/index.tsx","containers/Frame/index.ts","views/index.tsx","config/consts.ts","epics/Counters/index.ts","epics/Counters/Counters.ts","epics/webSocket/index.ts","epics/webSocket/socketConnect.ts","epics/webSocket/socketReceive.ts","epics/chat/index.ts","epics/chat/sendMessage.ts","epics/index.ts","App.tsx","reportWebVitals.ts","index.tsx","components/SmallComponents/TipButton.tsx","styles/withRoot.tsx"],"names":["createActionFunc","type","argNames","args","action","forEach","argName","index","INCREMENT","DECREMENT","GET_SERVERVALUE","SERVERVALUE_FULFILLED","serverValueFulfilled","CHOOSE_DIGIT_START","chooseDigitStartAction","CHOOSE_DIGIT","chooseDigitAction","UPDATE_SUDOKU","updateSudokuAction","BLOCK_HIGHLIGHT","blockHighlightAction","CLEAR_BLOCK_HIGHLIGHT","clearBlockHighlightAction","TOGGLE_DIGITBOARD","toggleDigitBoardAction","PLAY_ROUND_FORWARD","playRoundForwardAction","PLAY_ROUND_BACKWARD","playRoundBackwardAction","SET_PLACE_VALUE","setPlaceValueAction","CLEAR_PLACE_VALUE","clearPlaceValueAction","TOGGLE_SHOW_UNCHANGEABLE","toggleShowUnchangeableAction","TOGGLE_SHOW_CONFLICT","toggleShowConflictAction","TOGGLE_SHOW_OPTIONNUMBER","toggleShowOptionNumberAction","saveGameAction","LOAD_GAME","loadGameAction","SEND_MESSAGE","sendMessageAction","START_SOCKET","startSocketAction","addMessageAction","SET_LEVEL","setLevelAction","init","times","serverValue","messages","info","username","avatar","loading","insert","item","arr","length","i","time","slice","a","null9x9","zero9x9","calculateHighlight","values","value","blockHighlight","m","n","Sudoku","Hole","HolePosition","generateSudoku","level","j","fillForm","holeNum","k","temp","idx","Array","Math","floor","random","digHole","x","y","getHole","set","val","x0","y0","reset","Xord","initXOrd","conflictValues","conflict","complete","ROW","COLUMN","conflictDetect","row","column","num","isConflict","isSuccess","generate","initValues","map","Object","assign","point","highlightPoint","digitBoard","playRound","playHistorys","placeValue","showUnchangeable","showConflict","showOptionNumber","reducers","combineReducers","Counters","state","actions","key","Game","clear","from","push","payload","to","User","message","useStyles","makeStyles","palette","shadows","spacing","breakpoints","createStyles","success","backgroundColor","error","warning","SnackBar","memo","children","classes","iconVariant","dense","preventDuplicate","anchorOrigin","vertical","horizontal","variantSuccess","variantError","variantWarning","variantInfo","zIndex","progress","position","modal","top","left","width","color","purple","barColor","Progress","LinearProgress","className","colorPrimary","barColorPrimary","colorToAlpha","hex","alpha","result","exec","r","parseInt","g","b","transitions","mixins","drawerPaper","whiteSpace","overflowX","transition","create","easing","sharp","duration","enteringScreen","drawerPaperClose","leavingScreen","down","border","toolbar","display","alignItems","justifyContent","padding","icon","margin","listItems","text","CustomDrawer","open","Drawer","variant","paper","classNames","Divider","List","ListItem","button","ListItemIcon","ListItemText","primary","modalContainer","flexDirection","borderRadius","background","boxShadow","outline","maxWidth","modalHeader","light","marginTop","marginLeft","marginRight","marginBottom","userSelect","modalTitle","contrastText","textAlign","backdrop","main","customModal","title","direction","onClose","leaveDirection","Modal","aria-labelledby","aria-describedby","disableEnforceFocus","Slide","in","mountOnEnter","unmountOnExit","Typography","appBar","drawer","appBarShift","appBarGutters","paddingRight","regular","minHeight","height","menuButton","rightButtons","hide","suggestion","overflowY","collapse","hideButton","hideButtonShowing","right","imageLayer","maxHeight","image","cursor","imageRoot","snackbar","EnlargeableImage","src","useState","setOpen","handleClose","onClick","alt","Dialog","root","messenger","up","flex","messageContainer","input","inputContent","textField","chipRoot","secondary","myChip","myDivider","messageContent","wordWrap","my","rightAlign","hidden","closeButton","AvatarSvg","SvgProp","GProp","AvatarId","pathCode","multiavatar","match","viewBox","dangerouslySetInnerHTML","__html","Messenger","content","setContent","container","setContainer","useSnackbar","enqueueSnackbar","closeSnackbar","Date","now","avatarId","useEffect","scrollHeight","scrollTop","generateMessage","isImage","toString","isSelf","name","send","placeHolders","MessageChip","toLocaleTimeString","hour12","split","AvatarBox","messageAvatar","Avatar","style","Paper","ref","Chip","label","accept","id","onChange","files","target","file","extension","includes","size","reader","FileReader","readAsDataURL","onload","currentTarget","htmlFor","IconButton","component","last","disabled","TextField","multiline","rowsMax","placeholder","onKeyPress","event","ctrlKey","charCode","prevContent","preventDefault","onPaste","items","clipboardData","blob","indexOf","getAsFile","connect","dispatch","bindActionCreators","Bar","setRight","anchorEl","setAnchorEl","helper","setHelper","setDrawer","setMessenger","useContext","ThemeContext","setDarkMode","darkMode","handleClickPerson","toggleHelper","prev","toggleMessenger","HelpMessage","useMemo","useScrollTrigger","undefined","appear","AppBar","Toolbar","disableGutters","gutters","TipButton","TooltipProp","IconButtonProp","Brightness4","Menu","Boolean","MenuItem","Collapse","KeyboardArrowUp","KeyboardArrowDown","flexGrow","Frame","userInfo","lazy","Index","Component","RedirectToGame","Fragment","path","render","props","fallback","withRouter","withRoot","API","epics","action$","state$","pipe","ofType","mergeMap","ajax","getJSON","res","of","Error","io","socket$","switchMap","Observable","o","socket","on","next","close","tap","ignoreElements","console","log","EMPTY","emit","catchError","err","errHandler","customAction","dependencies","BehaviorSubject","sessionStorage","epicMiddleware","createEpicMiddleware","combineEpics","counters","webSocket","chat","createHistory","middleware","store","createStore","composeWithDevTools","applyMiddleware","run","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","createContext","darkTheme","createMuiTheme","dark","default","boardBackgroundColor","optionNumberBackgroudColor","numberBackgroundColor","overrides","MuiIconButton","MuiButton","textPrimary","MuiCheckbox","defaultTheme","blue","prefersDarkMode","useMediaQuery","Provider","theme"],"mappings":"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","file":"static/js/main.f1757d00.chunk.js","sourcesContent":["function createActionFunc(type, ...argNames) {\r\n    return function (...args) {\r\n        let action = { type };\r\n        argNames.forEach((argName, index) => {\r\n            action[argNames[index]] = args[index];\r\n        });\r\n        return action;\r\n    };\r\n}\r\n\r\nexport default createActionFunc;\r\n","import { Point, sudokuValue, PlayHistory, PlaceValue, Message,Level } from '../types';\r\nimport createActionFunc from './utils';\r\n\r\n/** 让counter数字加一*/\r\nexport const INCREMENT = 'INCREMENT';\r\nexport type INCREMENT = typeof INCREMENT;   // eslint-disable-line\r\nexport interface Increment {\r\n    type: INCREMENT;\r\n}\r\nexport const incrementAction = createActionFunc(INCREMENT);\r\n\r\n/** 让counter数字减一*/\r\nexport const DECREMENT = 'DECREMENT';\r\nexport type DECREMENT = typeof DECREMENT;   // eslint-disable-line\r\nexport interface Decrement {\r\n    type: DECREMENT;\r\n}\r\nexport const decrementAction = createActionFunc(DECREMENT);\r\n\r\n/** get serverValue action start, gonna be handled by epic*/\r\nexport const GET_SERVERVALUE = 'GET_SERVERVALUE';\r\nexport type GET_SERVERVALUE = typeof GET_SERVERVALUE;   // eslint-disable-line\r\nexport interface GetserverValue {\r\n    type: GET_SERVERVALUE;\r\n    payload: string;\r\n}\r\nexport const getserverValueAction = createActionFunc(GET_SERVERVALUE, 'payload');\r\n\r\n/** get serverValue action fullfilled, gonna be handled by counters's reducer*/\r\nexport const SERVERVALUE_FULFILLED = 'SERVERVALUE_FULFILLED';\r\nexport type SERVERVALUE_FULFILLED = typeof SERVERVALUE_FULFILLED;   // eslint-disable-line\r\nexport interface ServerValueFulfilled {\r\n    type: SERVERVALUE_FULFILLED;\r\n    key: string;\r\n    message: string;\r\n}\r\nexport const serverValueFulfilled = createActionFunc(SERVERVALUE_FULFILLED, 'key', 'value');\r\n\r\n/** 展示DigitBoard*/\r\nexport const CHOOSE_DIGIT_START = 'CHOOSE_ACTION_START';\r\nexport type CHOOSE_DIGIT_START = typeof CHOOSE_DIGIT_START; // eslint-disable-line\r\nexport interface ChooseDigitStartAction {\r\n    type: CHOOSE_DIGIT_START;\r\n    point: Point;\r\n}\r\nexport const chooseDigitStartAction = createActionFunc(CHOOSE_DIGIT_START, 'point');\r\n\r\n/** DigitBoard click a number, the clicked number will update number in block*/\r\nexport const CHOOSE_DIGIT = 'CHOOSE_DIGIT';\r\nexport type CHOOSE_DIGIT = typeof CHOOSE_DIGIT; // eslint-disable-line\r\nexport interface ChooseDigitAction {\r\n    type: CHOOSE_DIGIT;\r\n    point: Point;\r\n}\r\nexport const chooseDigitAction = createActionFunc(CHOOSE_DIGIT, 'point');\r\n\r\n/** 调用generateSudoku函数，生成新的数独9x9 matrix,放入store中*/\r\nexport const UPDATE_SUDOKU = 'UPDATE_SUDOKU';\r\nexport type UPDATE_SUDOKU = typeof UPDATE_SUDOKU;   // eslint-disable-line\r\nexport interface UpdateSudokuAction {\r\n    type: UPDATE_SUDOKU;\r\n}\r\nexport const updateSudokuAction = createActionFunc(UPDATE_SUDOKU);\r\n\r\n/** 根据value计算新的blockHighlight矩阵*/\r\nexport const BLOCK_HIGHLIGHT = 'BLOCK_HIGHLIGHT';\r\nexport type BLOCK_HIGHLIGHT = typeof BLOCK_HIGHLIGHT;   // eslint-disable-line\r\nexport interface BlockHighlightAction {\r\n    type: BLOCK_HIGHLIGHT;\r\n    value: sudokuValue;\r\n}\r\nexport const blockHighlightAction = createActionFunc(BLOCK_HIGHLIGHT, 'value');\r\n\r\n/** 将blockHighlight矩阵全部置0，没有任何一个块需要高亮*/\r\nexport const CLEAR_BLOCK_HIGHLIGHT = 'CLEAR_BLOCK_HIGHLIGHT';\r\nexport type CLEAR_BLOCK_HIGHLIGHT = typeof CLEAR_BLOCK_HIGHLIGHT;   // eslint-disable-line\r\nexport interface ClearBlockHighlightAction {\r\n    type: CLEAR_BLOCK_HIGHLIGHT;\r\n}\r\nexport const clearBlockHighlightAction = createActionFunc(CLEAR_BLOCK_HIGHLIGHT);\r\n\r\n/** toggle global digitBoard on and off*/\r\nexport const TOGGLE_DIGITBOARD = 'TOGGLE_DIGITBOARD';\r\nexport type TOGGLE_DIGITBOARD = typeof TOGGLE_DIGITBOARD;   // eslint-disable-line\r\nexport interface ToggleDigitBoardAction {\r\n    type: TOGGLE_DIGITBOARD;\r\n}\r\nexport const toggleDigitBoardAction = createActionFunc(TOGGLE_DIGITBOARD);\r\n\r\n/** play round go ahrad*/\r\nexport const PLAY_ROUND_FORWARD = 'PLAY_ROUND_FORWARD';\r\nexport type PLAY_ROUND_FORWARD = typeof PLAY_ROUND_FORWARD; // eslint-disable-line\r\nexport interface PlayRoundForwardAction {\r\n    type: PLAY_ROUND_FORWARD;\r\n    payload: PlayHistory;\r\n}\r\nexport const playRoundForwardAction = createActionFunc(PLAY_ROUND_FORWARD, 'payload');\r\n\r\n/** play round go back*/\r\nexport const PLAY_ROUND_BACKWARD = 'PLAY_ROUND_BACKWARD';\r\nexport type PLAY_ROUND_BACKWARD = typeof PLAY_ROUND_BACKWARD;   // eslint-disable-line\r\nexport interface PlayRoundBackwardAction {\r\n    type: PLAY_ROUND_BACKWARD;\r\n}\r\nexport const playRoundBackwardAction = createActionFunc(PLAY_ROUND_BACKWARD);\r\n\r\n/** 设置placeValue值*/\r\nexport const SET_PLACE_VALUE = 'SET_PLACE_VALUE';\r\nexport type SET_PLACE_VALUE = typeof SET_PLACE_VALUE;   // eslint-disable-line\r\nexport interface SetPlaceValueAction {\r\n    type: SET_PLACE_VALUE;\r\n    value: PlaceValue;\r\n}\r\nexport const setPlaceValueAction = createActionFunc(SET_PLACE_VALUE, 'value');\r\n\r\n/** 清空placeValue值，设置为null*/\r\nexport const CLEAR_PLACE_VALUE = 'CLEAR_PLACE_VALUE';\r\nexport type CLEAR_PLACE_VALUE = typeof CLEAR_PLACE_VALUE;   // eslint-disable-line\r\nexport interface ClearPlaceValueAction {\r\n    type: CLEAR_PLACE_VALUE;\r\n    value: PlaceValue;\r\n}\r\nexport const clearPlaceValueAction = createActionFunc(CLEAR_PLACE_VALUE, 'value');\r\n\r\n/** 如果需要显示哪些是初始数据不需要改变，showUnchangeable=true,否则为false*/\r\nexport const TOGGLE_SHOW_UNCHANGEABLE = 'TOGGLE_SHOW_UNCHANGEABLE';\r\nexport type TOGGLE_SHOW_UNCHANGEABLE = typeof TOGGLE_SHOW_UNCHANGEABLE; // eslint-disable-line\r\nexport interface ToggleShowUnchangeableAction {\r\n    type: TOGGLE_SHOW_UNCHANGEABLE;\r\n}\r\nexport const toggleShowUnchangeableAction = createActionFunc(TOGGLE_SHOW_UNCHANGEABLE);\r\n\r\n/** 如果需要显示哪些是冲突数字，showConflict=true,否则为false*/\r\nexport const TOGGLE_SHOW_CONFLICT = 'TOGGLE_SHOW_CONFLICT';\r\nexport type TOGGLE_SHOW_CONFLICT = typeof TOGGLE_SHOW_CONFLICT; // eslint-disable-line\r\nexport interface ToggleShowConflictAction {\r\n    type: TOGGLE_SHOW_CONFLICT;\r\n}\r\nexport const toggleShowConflictAction = createActionFunc(TOGGLE_SHOW_CONFLICT);\r\n\r\n/** 控制是否展示框内可选数字*/\r\nexport const TOGGLE_SHOW_OPTIONNUMBER = 'TOGGLE_SHOW_OPTIONNUMBER';\r\nexport type TOGGLE_SHOW_OPTIONNUMBER = typeof TOGGLE_SHOW_OPTIONNUMBER; // eslint-disable-line\r\nexport interface ToggleShowOptionNumber {\r\n    type: TOGGLE_SHOW_OPTIONNUMBER;\r\n}\r\nexport const toggleShowOptionNumberAction = createActionFunc(TOGGLE_SHOW_OPTIONNUMBER);\r\n\r\n/** 记录多次游戏的所有数据*/\r\nexport const SAVE_GAME = 'SAVE_GAME';\r\nexport type SAVE_GAME = typeof SAVE_GAME;   // eslint-disable-line\r\nexport interface SaveGame {\r\n    type: SAVE_GAME;\r\n}\r\nexport const saveGameAction = createActionFunc(SAVE_GAME);\r\n\r\n/** 记录多次游戏的所有数据*/\r\nexport const LOAD_GAME = 'LOAD_GAME';\r\nexport type LOAD_GAME = typeof LOAD_GAME;   // eslint-disable-line\r\nexport interface LoadGame {\r\n    type: LOAD_GAME;\r\n    values:sudokuValue[][];\r\n    initValues:sudokuValue[][];\r\n    playHistorys:PlayHistory[];\r\n    playRound:number;\r\n}\r\nexport const loadGameAction = createActionFunc(LOAD_GAME,'values','initValues','playHistorys','playRound');\r\n\r\n/** 在聊天框发送消息*/\r\nexport const SEND_MESSAGE = 'SEND_MESSAGE';\r\nexport type SEND_MESSAGE = typeof SEND_MESSAGE; // eslint-disable-line\r\nexport interface SendMessage {\r\n    type: SEND_MESSAGE;\r\n    message:Message;\r\n}\r\nexport const sendMessageAction = createActionFunc(SEND_MESSAGE,'message');\r\n\r\n/** 启动socket连接*/\r\nexport const START_SOCKET='START_SOCKET';\r\nexport type START_SOCKET=typeof START_SOCKET;   // eslint-disable-line\r\nexport interface StartSocket {\r\n    type:START_SOCKET,\r\n}\r\nexport const startSocketAction=createActionFunc(START_SOCKET);\r\n\r\n/** 添加一条信息到面板*/\r\nexport const ADD_MESSAGE='ADD_MESSAGE';\r\nexport type ADD_MESSAGE=typeof ADD_MESSAGE; // eslint-disable-line\r\nexport interface AddMessage {\r\n    type:ADD_MESSAGE,\r\n    message:Message;\r\n}\r\nexport const addMessageAction=createActionFunc(ADD_MESSAGE,'message');\r\n\r\nexport const SET_LEVEL='SET_LEVEL';\r\nexport type SET_LEVEL=typeof SET_LEVEL; // eslint-disable-line\r\nexport interface  SetLevel {\r\n    type:SET_LEVEL;\r\n    level:Level;\r\n}\r\nexport const setLevelAction=createActionFunc(SET_LEVEL,'level');\r\n\r\nexport const TOGGLE_PROGRESS='TOGGLE_PROGRESS';\r\nexport type TOGGLE_PROGRESS=typeof TOGGLE_PROGRESS; // eslint-disable-line\r\nexport interface  ToggleProgress {\r\n    type:TOGGLE_PROGRESS;\r\n}\r\nexport const toggleProgress=createActionFunc(TOGGLE_PROGRESS);","import * as actions from '../actions';\r\n\r\ntype ActionType = actions.Increment | actions.Decrement | actions.GetserverValue | actions.ServerValueFulfilled;\r\n\r\nexport interface CountersStore {\r\n    times: number;\r\n    serverValue: string;\r\n}\r\n\r\nconst init: CountersStore = {\r\n    times: 0,\r\n    serverValue: 'init serverValue',\r\n};\r\n\r\nexport default (state = init, action: ActionType): CountersStore => {\r\n    const {} = state;\r\n    switch (action.type) {\r\n        case actions.INCREMENT:\r\n            return { ...state, times: state.times + 1 };\r\n        case actions.DECREMENT:\r\n            return { ...state, times: state.times - 1 };\r\n        case actions.SERVERVALUE_FULFILLED:\r\n            return { ...state, serverValue: action.key };\r\n        default:\r\n            return { ...state, times: state.times };\r\n    }\r\n};\r\n","import * as actions from '../actions';\r\nimport {Message,Userinfo} from '../types';\r\n\r\ntype ActionType=\r\n    | actions.SendMessage\r\n\r\nexport interface UserStore {\r\n    messages:Message[];\r\n    info:Userinfo;\r\n    loading:boolean;\r\n}\r\n\r\nconst init:UserStore={\r\n    messages:[],\r\n    info:{\r\n        username:'cherro',\r\n        avatar:'',\r\n    } as Userinfo,\r\n    loading:false,\r\n}\r\n\r\nconst insert = (item: Message, arr: Message[]) => {\r\n    const length = arr.length;\r\n    if (length === 0) {\r\n        return [item];\r\n    }\r\n    for (let i = length - 1; i >= 0; i--) {\r\n        if (arr[i].time > item.time) {\r\n            arr[i + 1] = arr[i];\r\n        } else {\r\n            arr[i + 1] = item;\r\n            break;\r\n        }\r\n    }\r\n    return arr.slice(-100); // just have the last n messages\r\n};\r\n\r\nexport default (state=init,action:ActionType):UserStore=>{\r\n    switch(action.type){\r\n        case actions.SEND_MESSAGE:\r\n            const messages=insert(action.message,[...state.messages]);\r\n            return {...state,messages};\r\n        default:\r\n            return {...state};\r\n    }\r\n}","const a = null;\r\n\r\nexport const null9x9 = [\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n];\r\n\r\nexport const zero9x9 = [\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n];\r\n\r\nexport const one9x9 = [\r\n    [1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n    [1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n    [1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n    [1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n    [1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n    [1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n    [1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n    [1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n    [1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n];\r\n","import { sudokuValue } from '../types';\r\n\r\n/**\r\n * calculateHighlight 根据传入value计算矩阵中所有值等于value的格子\r\n *\r\n * @param values current 9x9 board value matrix\r\n * @param value value given to check dulplicate\r\n *\r\n * @returns blockHighlight matrix 值等于value的格子为1， 值不等于value的格子为0\r\n */\r\nexport function calculateHighlight(values: sudokuValue[][], value: sudokuValue) {\r\n    let blockHighlight: number[][] = [[], [], [], [], [], [], [], [], []];\r\n    for (var m: number = 0; m < 9; m++)\r\n        for (var n: number = 0; n < 9; n++)\r\n            if (value != null && value === values[m][n]) blockHighlight[m][n] = 1;\r\n            else blockHighlight[m][n] = 0;\r\n    return blockHighlight;\r\n}\r\n\r\nexport default calculateHighlight;\r\n","import { sudokuValue, Level } from '../types';\r\n\r\n/**\r\n * 生成数独\r\n *\r\n * @param level 表示难度,取值0,1,2,3; 0-随机, 1-3难度递增\r\n *\r\n * @returns tuple [generate,answer] generate:元组的第一个元素,9x9 matrix   answer:元组的第二个元素, 9x9 matrix\r\n * \r\n * \r\n */\r\n\r\nconst a = null;\r\nconst b = 0;\r\nlet Sudoku: Array<Array<sudokuValue>> = [\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n];\r\nlet Hole: Array<Array<sudokuValue>> = [\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n];\r\nlet HolePosition: Array<Array<number>> = [\r\n    [b, b, b, b, b, b, b, b, b],\r\n    [b, b, b, b, b, b, b, b, b],\r\n    [b, b, b, b, b, b, b, b, b],\r\n    [b, b, b, b, b, b, b, b, b],\r\n    [b, b, b, b, b, b, b, b, b],\r\n    [b, b, b, b, b, b, b, b, b],\r\n    [b, b, b, b, b, b, b, b, b],\r\n    [b, b, b, b, b, b, b, b, b],\r\n    [b, b, b, b, b, b, b, b, b],\r\n];\r\n\r\nexport const generateSudoku = (level: Level): sudokuValue[][][] => {\r\n    /*algrithm for generating soduku here*/\r\n    //level对应挖洞个数，1-2-3对应挖洞10,20,30\r\n    for (let i = 0; i < 9; i++) {\r\n        for (let j = 0; j < 9; j++) {\r\n            HolePosition[i][j] = b;\r\n            Hole[i][j] = a;\r\n            Sudoku[i][j] = a;\r\n        }\r\n    }\r\n    while (!fillForm(0, 1));\r\n    digHole((level+1)*10);\r\n    getHole();\r\n    return [\r\n        Hole, Sudoku\r\n    ];\r\n};\r\n\r\nexport default generateSudoku;\r\n\r\nfunction set(x: number, y: number, val: sudokuValue): boolean {\r\n    if (Sudoku[y][x] !== a)\r\n        return false;\r\n    let x0: number, y0: number;\r\n    //列冲突\r\n    for (x0 = 0; x0 < 9; x0++) {\r\n        if (Sudoku[y][x0] === val)\r\n            return false;\r\n    }\r\n    //行冲突\r\n    for (y0 = 0; y0 < 9; y0++) {\r\n        if (Sudoku[y0][x] === val)\r\n            return false;\r\n    }\r\n    //九宫格内部冲突\r\n    for (y0 = Math.floor(y / 3) * 3; y0 < Math.floor(y / 3) * 3 + 3; y0++) {\r\n        for (x0 = Math.floor(x / 3) * 3; x0 < Math.floor(x / 3) * 3 + 3; x0++) {\r\n            if (Sudoku[y0][x0] === val)\r\n                return false;\r\n        }\r\n    }\r\n    //没有错误则修改值\r\n    Sudoku[y][x] = val;\r\n    return true;\r\n}\r\nfunction reset(x: number, y: number) {\r\n    Sudoku[y][x] = a;\r\n}\r\n//产生一个0-9的随机序列\r\nfunction initXOrd(Xord: Array<number>) {\r\n    let i: number, k: number, temp: number;\r\n    for (i = 0; i < 9; i++) {\r\n        Xord[i] = i;\r\n    }\r\n    for (i = 0; i < 9; i++) {\r\n        //0-9随机数\r\n        k = Math.floor(Math.random() * 9);\r\n        temp = Xord[k];\r\n        Xord[k] = Xord[i];\r\n        Xord[i] = temp;\r\n    }\r\n}\r\nfunction fillForm(y: number, val: sudokuValue): boolean {\r\n\r\n    let Xord: Array<number> = [1, 2, 3, 4, 5, 6, 7, 8, 9];\r\n    let i: number, x: number;\r\n    //随机生成一个序列0-9\r\n    initXOrd(Xord);\r\n    for (i = 0; i < 9; i++) {\r\n        x = Xord[i];\r\n        if (set(x, y, val)) {\r\n            if (y === 8) {\r\n                if (val === 9 || fillForm(0, (val as number + 1) as sudokuValue))\r\n                    return true;\r\n            }\r\n            else {\r\n                if (fillForm(y + 1, val))\r\n                    return true;\r\n            }\r\n            reset(x, y);\r\n        }\r\n    }\r\n    return false;\r\n}\r\n//找到挖洞的位置\r\nfunction digHole(holeNum: number) {\r\n    let idx = new Array<number>(81);\r\n    let i: number, k: number, temp: number;\r\n    for (i = 0; i < 81; i++) {\r\n        HolePosition[Math.floor(i / 9)][i % 9] = 0;\r\n        idx[i] = i;\r\n    }\r\n    for (i = 0; i < holeNum; i++) {\r\n        k = Math.floor(Math.random() * 81);\r\n        temp = idx[k];\r\n        idx[k] = idx[i];\r\n        idx[i] = temp;\r\n    }\r\n    for (i = 0; i < holeNum; i++) {\r\n        HolePosition[Math.floor(idx[i] / 9)][idx[i] % 9] = 1;\r\n    }\r\n}\r\n\r\nfunction getHole() {\r\n    let x: number, y: number;\r\n    for (y = 0; y < 9; y++) {\r\n        for (x = 0; x < 9; x++) {\r\n            if (HolePosition[y][x] === 1) {\r\n                Hole[y][x] = a;\r\n            }\r\n            else {\r\n                Hole[y][x] = Sudoku[y][x];\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { conflictValue } from '../types';\r\n\r\n/**\r\n * 检测数独盘中的冲突\r\n *\r\n * @param values 数独盘 9x9 matrix\r\n *\r\n * @returns conflict:是否冲突 true-冲突,false-不冲突\r\n *          complete:是否过关，即数独被正确完成\r\n *          conflict:冲突点 数字大小代表第几个数字冲突 数字从1-9,null代表此格不与任何格子冲突\r\n */\r\n\r\nconst a: conflictValue = null;\r\nlet conflictValues: conflictValue[][] = [\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n    [a, a, a, a, a, a, a, a, a],\r\n];\r\nlet conflict: boolean = false;\r\nlet complete: boolean = true;\r\nexport function conflictDetect(values: conflictValue[][]) {\r\n    for (let i = 0; i < 9; i++) {\r\n        for (let j = 0; j < 9; j++) {\r\n            conflictValues[i][j] = a;\r\n        }\r\n    }\r\n    conflict = false;\r\n    complete = true;\r\n    isConflict(values);\r\n    isSuccess(values);\r\n    return {\r\n        conflict,\r\n        complete,\r\n        conflictValues,\r\n    };\r\n}\r\n\r\nfunction isConflict(values: conflictValue[][]) {\r\n    let row: number, column: number, num: number, x: number, y: number;\r\n    //按照行遍历是否冲突\r\n    for (row = 0; row < 9; row++) {\r\n        for (column = 0; column < 9; column++) {\r\n            for (num = column + 1; num < 9; num++) {\r\n                if (values[row][column] === values[row][num]) {\r\n                    conflictValues[row][column] = values[row][column];\r\n                    conflictValues[row][num] = values[row][num];\r\n                    conflict = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    for (column = 0; column < 9; column++) {\r\n        for (row = 0; row < 9; row++) {\r\n            for (num = row + 1; num < 9; num++) {\r\n                if (values[row][column] === values[num][column]) {\r\n                    conflictValues[row][column] = values[row][column];\r\n                    conflictValues[num][column] = values[num][column];\r\n                    conflict = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    for (num = 0; num < 9; num++) {\r\n        for (x = 0; x < 9; x++) {\r\n            for (y = x + 1; y < 9; y++) {\r\n                if (values[ROW(num) * 3 + ROW(x)][COLUMN(num) * 3 + COLUMN(x)] === values[ROW(num) * 3 + ROW(y)][COLUMN(num) * 3 + COLUMN(y)]) {\r\n                    conflictValues[ROW(num) * 3 + ROW(x)][COLUMN(num) * 3 + COLUMN(x)] = values[ROW(num) * 3 + ROW(x)][COLUMN(num) * 3 + COLUMN(x)];\r\n                    conflictValues[ROW(num) * 3 + ROW(y)][COLUMN(num) * 3 + COLUMN(y)] = values[ROW(num) * 3 + ROW(x)][COLUMN(num) * 3 + COLUMN(x)];\r\n                    conflict = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return conflict;\r\n}\r\n\r\nfunction ROW(x: number): number {\r\n    return Math.floor(x / 3);\r\n}\r\n\r\nfunction COLUMN(x: number): number {\r\n    return x % 3;\r\n}\r\nfunction isSuccess(values: conflictValue[][]): boolean {\r\n    // console.log(\"in IsSuccess\");\r\n    let row: number, column: number;\r\n    if (conflict)\r\n        complete = false;\r\n    else {\r\n        for (row = 0; row < 9; row++) {\r\n            for (column = 0; column < 9; column++) {\r\n                if (values[row][column] === a)\r\n                    complete = false;\r\n            }\r\n        }\r\n    }\r\n    // console.log(complete);\r\n    return complete;\r\n}\r\n\r\nexport default conflictDetect;\r\n","import * as actions from '../actions';\r\nimport { PlaceValue, Point } from '../types';\r\nimport { sudokuValue, PlayHistory, Level, conflictValue } from '../types';\r\nimport { zero9x9, null9x9 } from '../consts';\r\nimport calculateHighlight from '../algrithm/calculateHighlight';\r\nimport generateSudoku from '../algrithm/generateSudoku';\r\nimport conflictDetect from '../algrithm/conflictDetect';\r\n\r\ntype ActionType =\r\n    | actions.ChooseDigitAction\r\n    | actions.ChooseDigitStartAction\r\n    | actions.UpdateSudokuAction\r\n    | actions.BlockHighlightAction\r\n    | actions.ClearBlockHighlightAction\r\n    | actions.ToggleDigitBoardAction\r\n    | actions.PlayRoundBackwardAction\r\n    | actions.PlayRoundForwardAction\r\n    | actions.SetPlaceValueAction\r\n    | actions.ClearPlaceValueAction\r\n    | actions.ToggleShowUnchangeableAction\r\n    | actions.ToggleShowConflictAction\r\n    | actions.ToggleShowOptionNumber\r\n    | actions.SaveGame\r\n    | actions.LoadGame\r\n    | actions.SetLevel\r\n\r\nexport interface GameStore {\r\n    values: sudokuValue[][] /** 数独数字 9x9 matrix*/;\r\n    initValues: sudokuValue[][] /** 数独初始化数据，标记不可变点*/;\r\n    blockHighlight: number[][] /** 9x9 matrix ,值 1-需要高亮 ，值 0-不高亮*/;\r\n    level: Level /** 数独难度*/;\r\n    point: Point /** 记录当前正在操作的点*/;\r\n    highlightPoint: Point /** 根据highlightPoing.value计算values中与该值相同的点，计算highlight矩阵*/;\r\n    digitBoard: boolean /** 是否拉起digitBoard填数字 true-拉起 false-隐藏*/;\r\n    playRound: number /** 记录用户下的第几个回合*/;\r\n    playHistorys: PlayHistory[] /** 记录每一次下棋的位置（点），以及点改变之前和改变之后的值*/;\r\n    placeValue: PlaceValue /** 如果placeValue=1到9，点击数独板上block会直接对数独板赋值数字*/;\r\n    showUnchangeable: boolean /** 是否高亮显示数独盘上不可变数字，true-高亮显示，false-不高亮显示*/;\r\n    conflictValues: conflictValue[][] /** 数独上冲突的点，取值null 1-9，null表示无冲突，1-9表示该位置该数字冲突*/;\r\n    showConflict: boolean /** 是否高亮显示冲突数字*/;\r\n    complete: boolean /** 数独是否求解成功*/;\r\n    showOptionNumber: boolean /** 是否显示所有框里面的可选数字 true-显示 false-不显示*/;\r\n}\r\n\r\nconst generate = generateSudoku(1)[0];\r\nconst init: GameStore = {\r\n    values: generate,\r\n    initValues: generate.map((x) =>[...x] as sudokuValue[]),\r\n    blockHighlight: zero9x9.map((x) => Object.assign({}, x)) as number[][],\r\n    level: 1,\r\n    point: { x: 0, y: 0, value: null },\r\n    highlightPoint: { x: 0, y: 0, value: null },\r\n    digitBoard: false,\r\n    playRound: 0,\r\n    playHistorys: [],\r\n    placeValue: null,\r\n    showUnchangeable: true,\r\n    conflictValues: null9x9.map((x) =>[...x] as conflictValue[]),\r\n    showConflict: true,\r\n    complete: false,\r\n    showOptionNumber: true,\r\n};\r\n\r\nexport default (state = init, action: ActionType): GameStore => {\r\n    const {\r\n        values,\r\n        level,\r\n        digitBoard,\r\n        playRound,\r\n        playHistorys,\r\n        showUnchangeable,\r\n        showConflict,\r\n        showOptionNumber,\r\n    } = state;\r\n    switch (action.type) {\r\n        case actions.UPDATE_SUDOKU:{ // when click fresh button, generate sudoku and update 9x9 matrix in store\r\n            const [generate, result] = generateSudoku(level);   // eslint-disable-line\r\n            return { ...init,\r\n                values: generate,\r\n                initValues: generate.map((x) => Object.assign({}, x)),\r\n                blockHighlight:zero9x9.map((x) => Object.assign({}, x)) as number[][],\r\n                conflictValues:null9x9.map((x) =>[...x] as conflictValue[]),\r\n                level,\r\n                showUnchangeable,\r\n                showConflict,\r\n                showOptionNumber,\r\n            };\r\n        }\r\n        case actions.BLOCK_HIGHLIGHT: // calculate highlight matrix\r\n            return { ...state, blockHighlight: calculateHighlight(values, action.value) };\r\n        case actions.CLEAR_BLOCK_HIGHLIGHT:\r\n            const clear = zero9x9.map((x) => Object.assign({}, x));\r\n            return { ...state, blockHighlight: clear };\r\n        case actions.TOGGLE_DIGITBOARD: // show global digitBoard\r\n            return { ...state, digitBoard: !digitBoard };\r\n        case actions.CHOOSE_DIGIT_START: // just for update point and highlight point mouse is howvering on\r\n            return { ...state, point: action.point };\r\n        case actions.CHOOSE_DIGIT:\r\n            values[action.point.x][action.point.y] = action.point.value;\r\n            const {complete, conflictValues } = conflictDetect(values);\r\n            return { ...state, values: values, point:action.point, conflictValues, complete };\r\n        case actions.PLAY_ROUND_BACKWARD: {\r\n            if (playRound === 0) return {...state};\r\n            if (playRound > 0)\r\n                values[playHistorys[playRound - 1].x][playHistorys[playRound - 1].y] = playHistorys[playRound - 1].from;\r\n            const {conflictValues} = conflictDetect(values);\r\n            return {\r\n                ...state,\r\n                values: values,\r\n                playRound: playRound - 1,\r\n                playHistorys: playHistorys.slice(0, playRound - 1),\r\n                conflictValues,\r\n            };\r\n        }\r\n        case actions.PLAY_ROUND_FORWARD:\r\n            playHistorys.push(action.payload);\r\n            return {\r\n                ...state,\r\n                playRound: playRound + 1,\r\n                playHistorys,\r\n                blockHighlight: calculateHighlight(values, action.payload.to),\r\n            };\r\n        case actions.SET_PLACE_VALUE:\r\n            return { ...state, placeValue: action.value };\r\n        case actions.CLEAR_PLACE_VALUE:\r\n            return { ...state, placeValue: null };\r\n        case actions.TOGGLE_SHOW_UNCHANGEABLE:\r\n            return { ...state, showUnchangeable: !showUnchangeable };\r\n        case actions.TOGGLE_SHOW_CONFLICT:\r\n            return { ...state, showConflict: !showConflict };\r\n        case actions.TOGGLE_SHOW_OPTIONNUMBER:\r\n            return { ...state, showOptionNumber: !showOptionNumber };\r\n        case actions.LOAD_GAME: {\r\n            const {conflictValues} = conflictDetect(action.values);\r\n            return {...state,\r\n                values: action.values,\r\n                initValues: action.initValues,\r\n                playHistorys: action.playHistorys,\r\n                playRound:action.playRound,\r\n                conflictValues,\r\n            };\r\n        }\r\n        case actions.SET_LEVEL:\r\n            return {...state,level:action.level};\r\n        default:\r\n            return { ...state };\r\n    }\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport CountersReducer, { CountersStore } from './counters';\r\nimport UserReducer,{UserStore} from './user';\r\nimport GameReducer, { GameStore } from './game';\r\n\r\nexport interface StoreState {\r\n    Counters: CountersStore;\r\n    Game: GameStore;\r\n    User:UserStore;\r\n}\r\n\r\nexport const reducers = combineReducers({\r\n    Counters: CountersReducer,\r\n    Game: GameReducer,\r\n    User:UserReducer,\r\n});\r\n","import { Theme } from '@material-ui/core/styles/createMuiTheme';\r\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(({ palette, shadows, spacing, breakpoints }: Theme) =>\r\n    createStyles({\r\n        success: { backgroundColor: 'red' },\r\n        error: { backgroundColor: 'purple' },\r\n        warning: { backgroundColor: 'red' },\r\n        info: { backgroundColor: 'purple' },\r\n    }),\r\n);\r\n\r\nexport default useStyles;\r\n","import React, { FC, memo} from 'react';\r\nimport { SnackbarProvider } from 'notistack';\r\nimport useStyles from '../../styles/snackBar';\r\n\r\nconst SnackBar: FC = memo(({ children }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <SnackbarProvider\r\n            iconVariant={{\r\n                success: '✅',\r\n                error: '✖️',\r\n                warning: '⚠️',\r\n                info: 'ℹ️',\r\n            }}\r\n            dense={false}\r\n            preventDuplicate\r\n            anchorOrigin={{\r\n                vertical: 'bottom',\r\n                horizontal: 'center',\r\n            }}\r\n            classes={{\r\n                variantSuccess: classes.success,\r\n                variantError: classes.error,\r\n                variantWarning: classes.warning,\r\n                variantInfo: classes.info,\r\n            }}>\r\n            {children}\r\n        </SnackbarProvider>\r\n    );\r\n});\r\n\r\nexport default SnackBar;\r\n","  \r\nimport purple from '@material-ui/core/colors/purple';\r\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\r\nimport { createStyles, makeStyles } from '@material-ui/styles';\r\n\r\nconst useStyles = makeStyles(({ zIndex }: Theme) =>\r\n    createStyles({\r\n        progress: {\r\n            position: 'fixed',\r\n            zIndex: zIndex.modal + 1,\r\n            top: 0,\r\n            left: 0,\r\n            width: '100%',\r\n        },\r\n        color: {\r\n            backgroundColor: purple[500],\r\n        },\r\n        barColor: {\r\n            backgroundColor: purple[100],\r\n        },\r\n    }),\r\n);\r\n\r\nexport default useStyles;","import React, { FC, memo } from 'react';\r\n\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nimport useStyles from '../../styles/progress';\r\n\r\nconst Progress: FC = memo(() => {\r\n    const classes = useStyles();\r\n    return (\r\n        <LinearProgress\r\n            className={classes.progress}\r\n            color='primary'\r\n            classes={{\r\n                colorPrimary: classes.color,\r\n                barColorPrimary: classes.barColor,\r\n            }}\r\n        />\r\n    );\r\n});\r\n\r\nexport default Progress;","export const drawerWidth = 200;\r\nexport const colorToAlpha = (hex: string, alpha: number) => {\r\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex) || ['', '', ''];\r\n    const r = parseInt(result[1], 16);\r\n    const g = parseInt(result[2], 16);\r\n    const b = parseInt(result[3], 16);\r\n    return `rgba(${r}, ${g}, ${b}, ${alpha})`;\r\n};\r\n\r\nexport const colorToShadow = (hex: string) =>\r\n    `0 12px 20px -10px ${colorToAlpha(hex, 0.28)}, 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px ${colorToAlpha(\r\n        hex,\r\n        0.2,\r\n    )}`;\r\n","import { Theme } from '@material-ui/core/styles/createMuiTheme';\r\nimport { createStyles, makeStyles } from '@material-ui/styles';\r\n\r\nimport { drawerWidth } from './index';\r\n\r\nconst useStyles = makeStyles(({ transitions, mixins, spacing, breakpoints }: Theme) =>\r\n    createStyles({\r\n        drawerPaper: {\r\n            position: 'sticky',\r\n            top: 0,\r\n            whiteSpace: 'nowrap',\r\n            overflowX: 'hidden',\r\n            width: drawerWidth,\r\n            transition: transitions.create('width', {\r\n                easing: transitions.easing.sharp,\r\n                duration: transitions.duration.enteringScreen,\r\n            }),\r\n        },\r\n        drawerPaperClose: {\r\n            overflowX: 'hidden',\r\n            transition: transitions.create('width', {\r\n                easing: transitions.easing.sharp,\r\n                duration: transitions.duration.leavingScreen,\r\n            }),\r\n            width: spacing(9),\r\n            [breakpoints.down('md')]: {\r\n                border: 0,\r\n                width: '1px', // bugs in 0px, iOS <- I think it is fixed now\r\n            },\r\n        },\r\n        toolbar: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'flex-end',\r\n            padding: `0 ${spacing(1)}px`,\r\n            ...mixins.toolbar,\r\n        },\r\n        icon: {\r\n            margin: `0 ${spacing(1)}px`,\r\n        },\r\n    }),\r\n);\r\n\r\nexport default useStyles;\r\n","import React, { FC, memo} from 'react';\r\n\r\nimport classNames from 'classnames';\r\n\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nimport useStyles from '../../styles/drawer';\r\n\r\nexport interface localProps {\r\n    open: boolean;\r\n}\r\n\r\nconst listItems = [\r\n    {\r\n        icon: <DashboardIcon />,\r\n        text: 'dashboard',\r\n    },\r\n    {\r\n        icon: <HomeIcon />,\r\n        text: 'home',\r\n    },\r\n];\r\n\r\nconst CustomDrawer: FC<localProps> = memo(({ open }) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Drawer\r\n            variant='permanent'\r\n            classes={{ paper: classNames(classes.drawerPaper, !open && classes.drawerPaperClose) }}\r\n            open={open}>\r\n            <div className={classes.toolbar}></div>\r\n            <Divider />\r\n            <List>\r\n                {listItems.map(({ icon, text }, index) => (\r\n                    <ListItem button key={`item${index}`}>\r\n                        <ListItemIcon className={classes.icon}>{icon}</ListItemIcon>\r\n                        <ListItemText primary={text} />\r\n                    </ListItem>\r\n                ))}\r\n            </List>\r\n        </Drawer>\r\n    );\r\n});\r\n\r\nexport default CustomDrawer;\r\n","import { Theme } from '@material-ui/core/styles/createMuiTheme';\r\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\r\n\r\nimport { colorToShadow } from './index';\r\n\r\nconst useStyles = makeStyles(({ palette, shadows, spacing, breakpoints }: Theme) =>\r\n    createStyles({\r\n        modalContainer: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n        },\r\n        modal: {\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            position: 'absolute',\r\n            borderRadius: 6,\r\n            backgroundColor: palette.background.paper,\r\n            boxShadow: shadows[5],\r\n            padding: spacing(1),\r\n            outline: 'none',\r\n            [breakpoints.down('sm')]: {\r\n                maxWidth: '100%',\r\n            },\r\n            maxHeight: '90%',\r\n            maxWidth: '75%',\r\n        },\r\n        modalHeader: {\r\n            background: palette.primary.light,\r\n            borderRadius: 3,\r\n            marginTop: -spacing(3),\r\n            marginLeft: spacing(5),\r\n            marginRight: spacing(5),\r\n            marginBottom: spacing(1),\r\n            boxShadow: colorToShadow(palette.primary.light),\r\n            userSelect: 'none',\r\n        },\r\n        modalTitle: {\r\n            color: palette.primary.contrastText,\r\n            textAlign: 'center',\r\n            margin: spacing(1),\r\n        },\r\n        backdrop: {\r\n            background: palette.primary.main,\r\n        },\r\n    }),\r\n);\r\n\r\nexport default useStyles;\r\n","import React, { FC, memo} from 'react';\r\n\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Slide, { SlideProps } from '@material-ui/core/Slide';\r\n\r\nimport useStyles from '../../styles/modal';\r\n\r\nexport interface Props {\r\n    open: boolean;\r\n    title: string;\r\n    direction?: SlideProps['direction'];\r\n    onClose: () => void;\r\n}\r\n\r\nconst customModal: FC<Props> = memo(({ open, title, direction, children, onClose }) => {\r\n    const classes = useStyles();\r\n    const leaveDirection = direction === 'left' ? 'right' : 'left';\r\n    return (\r\n        <Modal\r\n            open={open}\r\n            onClose={onClose}\r\n            aria-labelledby='simple-modal-title'\r\n            aria-describedby='simple-modal-description'\r\n            disableEnforceFocus>\r\n            <Slide direction={open ? direction || 'right' : leaveDirection} in={open} mountOnEnter unmountOnExit>\r\n                <div className={classes.modal}>\r\n                    <div className={classes.modalHeader}>\r\n                        <Typography variant='h5' className={classes.modalTitle}>\r\n                            {title}\r\n                        </Typography>\r\n                    </div>\r\n                    {children}\r\n                </div>\r\n            </Slide>\r\n        </Modal>\r\n    );\r\n});\r\n\r\nexport default customModal;\r\n","import { Theme } from '@material-ui/core/styles/createMuiTheme';\r\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\r\n\r\nimport { drawerWidth } from './index';\r\n\r\nconst useStyles = makeStyles(({ zIndex, palette, transitions, spacing, breakpoints }: Theme) => {\r\n    let appBarWidth = 48;\r\n    return createStyles({\r\n        appBar: {\r\n            zIndex: zIndex.drawer + 1,\r\n            background: `${palette.primary.main}`, //`linear-gradient(60deg, ${palette.primary.main}, ${palette.primary.dark})`,\r\n            transition: transitions.create(['width', 'margin'], {\r\n                easing: transitions.easing.sharp,\r\n                duration: transitions.duration.leavingScreen,\r\n            }),\r\n        },\r\n        appBarShift: {\r\n            marginLeft: drawerWidth,\r\n            width: `calc(100% - ${drawerWidth}px)`,\r\n            transition: transitions.create(['width', 'margin'], {\r\n                easing: transitions.easing.sharp,\r\n                duration: transitions.duration.enteringScreen,\r\n            }),\r\n        },\r\n        appBarGutters: {\r\n            paddingRight: 0,\r\n        },\r\n        regular: {\r\n            minHeight: appBarWidth,\r\n            height: appBarWidth,\r\n        },\r\n        menuButton: {\r\n            marginLeft: spacing(2),\r\n            marginRight: spacing(4),\r\n            [breakpoints.down('sm')]: {\r\n                marginLeft: 0,\r\n                marginRight: 0,\r\n                padding: spacing(1),\r\n            },\r\n        },\r\n        rightButtons: {\r\n            marginLeft: 'auto',\r\n            display: 'flex',\r\n            '& button': {\r\n                [breakpoints.down('sm')]: {\r\n                    padding: spacing(1),\r\n                },\r\n            },\r\n        },\r\n        hide: {\r\n            display: 'none',\r\n        },\r\n        suggestion: {\r\n            padding: spacing(2),\r\n            overflowY: 'auto',\r\n        },\r\n        collapse: {\r\n            zIndex: zIndex.drawer + 1,\r\n            position: 'fixed',\r\n            top: spacing(8),\r\n            [breakpoints.down('sm')]: {\r\n                top: spacing(6),\r\n            },\r\n            right: 0,\r\n        },\r\n\r\n        hideButton: {\r\n            top: spacing(0),\r\n        },\r\n        hideButtonShowing: {\r\n            display: 'flex',\r\n            position: 'fixed',\r\n            right: 0,\r\n        },\r\n    });\r\n});\r\n\r\nexport default useStyles;\r\n","  \r\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\r\nimport { createStyles, makeStyles } from '@material-ui/styles';\r\n\r\nconst useStyles = makeStyles(({ zIndex }: Theme) =>\r\n    createStyles({\r\n        imageLayer: {\r\n            maxHeight: '100%',\r\n        },\r\n        image: {\r\n            '&:hover': {\r\n                cursor: 'pointer',\r\n            },\r\n            maxWidth: '100%',\r\n        },\r\n        imageRoot: {\r\n            zIndex: zIndex.snackbar * 4,\r\n        },\r\n    }),\r\n);\r\n\r\nexport default useStyles;\r\n","import React, { FC, memo, useState } from 'react';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\n\r\nimport useStyles from '../../styles/enlargeableImg';\r\n\r\ninterface Props {\r\n    src: string;\r\n}\r\n\r\nconst EnlargeableImage: FC<Props> = memo(({ src }) => {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <img src={src} onClick={handleOpen} className={classes.image} alt='small' />\r\n            <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                maxWidth={false}\r\n                classes={{ paper: classes.imageLayer, root: classes.imageRoot }}>\r\n                <img src={src} onClick={handleClose} className={classes.image} alt='original' />\r\n            </Dialog>\r\n        </>\r\n    );\r\n});\r\n\r\nexport default EnlargeableImage;","import { Theme } from '@material-ui/core/styles/createMuiTheme';\r\nimport { createStyles, makeStyles } from '@material-ui/styles';\r\n\r\nimport { colorToAlpha } from './index';\r\n\r\nconst useStyles = makeStyles(({ spacing, transitions, breakpoints, palette, zIndex }: Theme) =>\r\n    createStyles({\r\n        messenger: {\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            margin: spacing(1),\r\n            padding: spacing(1),\r\n            height: 'calc(100vh - 96px)',\r\n            [breakpoints.up('sm')]: {\r\n                width: 400,\r\n            },\r\n            [breakpoints.down('sm')]: {\r\n                height: '75vh',\r\n            },\r\n            flex: '1',\r\n        },\r\n        messages: {\r\n            flex: '1',\r\n            overflowY: 'auto',\r\n            padding: spacing(1),\r\n            marginBottom: spacing(1),\r\n            transition: transitions.create(['padding'], {\r\n                easing: transitions.easing.sharp,\r\n                duration: transitions.duration.enteringScreen,\r\n            }),\r\n        },\r\n        messageContainer: {\r\n            display: 'flex',\r\n            margin: `${spacing(1)}px 0`,\r\n        },\r\n        input: {\r\n            marginTop: 'auto',\r\n        },\r\n        inputContent: {\r\n            display: 'flex',\r\n            alignItems: 'flex-end',\r\n        },\r\n        textField: {\r\n            width: '100%',\r\n        },\r\n        chipRoot: {\r\n            height: 'auto',\r\n            padding: spacing(1),\r\n            whiteSpace: 'normal',\r\n            background: colorToAlpha(palette.secondary.light, 0.3),\r\n            '& > *': {\r\n                whiteSpace: 'normal',\r\n            },\r\n        },\r\n        myChip: {\r\n            background: colorToAlpha(palette.primary.main, 0.8),\r\n            color: palette.primary.contrastText,\r\n        },\r\n        myDivider: {\r\n            background: 'white',\r\n        },\r\n        messageContent: {\r\n            wordWrap: 'break-word',\r\n            maxWidth: 200,\r\n            userSelect: 'text',\r\n            cursor: 'text',\r\n            marginTop: spacing(1),\r\n        },\r\n        avatar: {\r\n            margin: spacing(1),\r\n        },\r\n        my: {\r\n            flexDirection: 'row-reverse',\r\n        },\r\n        rightAlign: {\r\n            marginLeft: 'auto',\r\n        },\r\n        message: {\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n        },\r\n        hidden: {\r\n            display: 'none',\r\n        },\r\n        imageLayer: {\r\n            maxHeight: '100%',\r\n        },\r\n        image: {\r\n            '&:hover': {\r\n                cursor: 'pointer',\r\n            },\r\n            maxWidth: '100%',\r\n        },\r\n        imageRoot: {\r\n            zIndex: zIndex.snackbar * 4,\r\n        },\r\n        closeButton: {\r\n            marginLeft: 'auto',\r\n        },\r\n    }),\r\n);\r\n\r\nexport default useStyles;\r\n","import React, { FC, memo, SVGProps } from 'react';\r\nimport multiavatar from '@multiavatar/multiavatar';\r\nexport const AvatarSvg: FC<{\r\n    SvgProp?: SVGProps<SVGSVGElement>;\r\n    GProp?: SVGProps<SVGGElement>;\r\n    AvatarId?: string;\r\n}> = memo(({ SvgProp = {}, GProp = {}, AvatarId = 'bind avatar' }) => {\r\n    let pathCode: string = multiavatar(AvatarId).match(/<svg[^>]*>(.*)<\\/svg>/)[1];\r\n    return (\r\n        <svg {...SvgProp} viewBox={'0 0 231 231'}>\r\n            <g dangerouslySetInnerHTML={{ __html: pathCode }} {...GProp}></g>\r\n        </svg>\r\n    );\r\n});\r\n\r\nexport default AvatarSvg;\r\n","import React, {\r\n    ChangeEventHandler,\r\n    ClipboardEventHandler,\r\n    ClipboardEvent,\r\n    FC,\r\n    KeyboardEventHandler,\r\n    memo,\r\n    MouseEventHandler,\r\n    useEffect,\r\n    useState,\r\n} from 'react';\r\n\r\nimport classNames from 'classnames';\r\n\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport PlusOneIcon from '@material-ui/icons/ExposurePlus1';\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport InsertPhotoIcon from '@material-ui/icons/InsertPhoto';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport EnlargeableImage from '../EnlargeableImg';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nimport { Message } from '../../types';\r\nimport useStyles from '../../styles/messenger';\r\n\r\nimport { Props } from '../../containers/Messenger';\r\nimport { AvatarSvg } from '../SmallComponents/AvatarSvg';\r\n\r\nconst Messenger: FC<Props> = memo(({ messages, username, avatar, sendMessageAction, startSocketAction }) => {\r\n    const classes = useStyles();\r\n    const [content, setContent] = useState('');\r\n    const [container, setContainer] = useState<Element | null>(null);\r\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar(); // eslint-disable-line\r\n    const [avatarId, setAvatarId] = useState(`${Date.now()}`);\r\n    useEffect(() => {\r\n        startSocketAction();\r\n    }, [startSocketAction]);\r\n\r\n    useEffect(() => {\r\n        if (container && container.scrollHeight - container.scrollTop < 1000) {\r\n            container.scrollTop = container.scrollHeight;\r\n        }\r\n    }, [messages, container]);\r\n\r\n    const generateMessage = (message: string | ArrayBuffer | null, isImage = false) => ({\r\n        content: (message || '').toString(),\r\n        isSelf: true,\r\n        time: Date.now(),\r\n        isImage,\r\n        name: username,\r\n        avatar,\r\n    });\r\n\r\n    const handleKey: KeyboardEventHandler = (event) => {\r\n        const { ctrlKey, charCode } = event;\r\n        if (ctrlKey && charCode === 13) {\r\n            setContent((prevContent) => prevContent + '\\n');\r\n        }\r\n        if (!ctrlKey && charCode === 13) {\r\n            event.preventDefault();\r\n            if (content && content.match(/\\S+/)) {\r\n                send();\r\n            }\r\n        }\r\n    };\r\n\r\n    const handlePaste: ClipboardEventHandler = (event: ClipboardEvent<HTMLInputElement>) => {\r\n        const items: DataTransferItemList = (event.clipboardData || event['originalEvent'].clipboardData).items;\r\n        let blob: File | null = null;\r\n        for (const i of Object.values(items)) {\r\n            if (i.type.indexOf('image') === 0) {\r\n                blob = i.getAsFile();\r\n            }\r\n        }\r\n        if (blob !== null) {\r\n            const reader = new FileReader();\r\n            reader.onload = () => {\r\n                sendMessageAction(generateMessage(reader.result, true));\r\n            };\r\n            reader.readAsDataURL(blob);\r\n        }\r\n    };\r\n\r\n    const resetInput: MouseEventHandler<HTMLInputElement> = ({ currentTarget }) => {\r\n        currentTarget.value = '';\r\n    };\r\n\r\n    const handleImage: ChangeEventHandler<HTMLInputElement> = ({ target: { files } }) => {\r\n        if (!files) {\r\n            enqueueSnackbar('你没有上传任何图片', { variant: 'info' });\r\n            return;\r\n        }\r\n        const file = files[0];\r\n        const extension = file.name.split('.').slice(-1)[0];\r\n        if (!['jpg', 'jpeg', 'png'].includes(extension)) {\r\n            enqueueSnackbar('请上传jpg或png类型的图片', { variant: 'info' });\r\n            return;\r\n        }\r\n        if (file.size > 1024 * 1024 * 5) {\r\n            enqueueSnackbar('图片大小必须小于5MB', { variant: 'info' });\r\n            return;\r\n        }\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => {\r\n            sendMessageAction(generateMessage(reader.result, true));\r\n        };\r\n    };\r\n\r\n    const handleChange: ChangeEventHandler<HTMLInputElement> = ({ target: { value } }) => {\r\n        setContent(value);\r\n    };\r\n\r\n    const plusOne = () => {\r\n        const last = messages[messages.length - 1];\r\n        if (last) {\r\n            sendMessageAction(generateMessage(last.content, last.isImage));\r\n        }\r\n    };\r\n\r\n    const send = () => {\r\n        sendMessageAction(generateMessage(content));\r\n        setContent('');\r\n    };\r\n\r\n    const placeHolders = [\r\n        'ctrl + Enter 以输入回车',\r\n        '可以直接发送剪贴板中的图片',\r\n        '+1 可以复读',\r\n        '图片大小必须小于5MB',\r\n        '消息历史最多只有100条',\r\n    ];\r\n    const MessageChip = ({ isSelf, name, time, isImage, content: message }: Message) => (\r\n        <div className={classes.message}>\r\n            <div className={classNames({ [classes.rightAlign]: isSelf })}>\r\n                {`${name} - ${new Date(time).toLocaleTimeString('zh-CN', { hour12: false })}`}\r\n            </div>\r\n            <Divider className={classNames({ [classes.myDivider]: isSelf })} />\r\n            <div className={classes.messageContent}>\r\n                {isImage ? (\r\n                    <EnlargeableImage src={message} />\r\n                ) : (\r\n                    message.split('\\n').map((text, index) => (\r\n                        <span key={index}>\r\n                            {text}\r\n                            <br />\r\n                        </span>\r\n                    ))\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n    const AvatarBox = ({ avatar: messageAvatar, name }: Message) => (\r\n        <Avatar\r\n            alt={name}\r\n            src={messageAvatar}\r\n            className={classes.avatar}\r\n            children={<AvatarSvg SvgProp={{ style: { height: '36px', width: '36px' } }} AvatarId={avatarId} />}\r\n        /> //default set children={FaceIcon}\r\n    );\r\n\r\n    return (\r\n        <Paper className={classes.messenger}>\r\n            <div className={classes.messages} ref={setContainer}>\r\n                {messages.map((message, index) => (\r\n                    <div key={index} className={classNames(classes.messageContainer, { [classes.my]: message.isSelf })}>\r\n                        {AvatarBox(message)}\r\n                        <Chip\r\n                            label={MessageChip(message)}\r\n                            classes={{ root: classNames(classes.chipRoot, { [classes.myChip]: message.isSelf }) }}\r\n                        />\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <div className={classes.input}>\r\n                <Divider />\r\n                <div className={classes.inputContent}>\r\n                    <input\r\n                        accept='image/png, image/jpeg'\r\n                        className={classes.hidden}\r\n                        id='file'\r\n                        type='file'\r\n                        onChange={handleImage}\r\n                        onClick={resetInput}\r\n                    />\r\n                    <label htmlFor='file'>\r\n                        <IconButton color='primary' component='span'>\r\n                            <InsertPhotoIcon />\r\n                        </IconButton>\r\n                    </label>\r\n                    <IconButton color='primary' component='span' onClick={plusOne} disabled={!messages.length}>\r\n                        <PlusOneIcon />\r\n                    </IconButton>\r\n                    <TextField\r\n                        multiline\r\n                        rowsMax={4}\r\n                        value={content}\r\n                        placeholder={placeHolders[~~(Math.random() * placeHolders.length)]}\r\n                        className={classes.textField}\r\n                        margin='normal'\r\n                        onChange={handleChange}\r\n                        onKeyPress={handleKey}\r\n                        onPaste={handlePaste}\r\n                    />\r\n                    <IconButton\r\n                        color='primary'\r\n                        component='span'\r\n                        onClick={send}\r\n                        disabled={!(content && content.match(/\\S+/))}>\r\n                        <SendIcon />\r\n                    </IconButton>\r\n                </div>\r\n            </div>\r\n        </Paper>\r\n    );\r\n});\r\n\r\nexport default Messenger;\r\n","import { connect} from 'react-redux';\r\nimport { Dispatch, bindActionCreators } from 'redux';\r\n\r\nimport {sendMessageAction,startSocketAction} from '../../actions';\r\nimport { StoreState } from '../../reducers';\r\n\r\nimport Messenger from '../../components/Messenger';\r\nimport { Message} from '../../types';\r\n\r\nconst mapStateToProps = ({ User: {messages,info:{username,avatar}} }: StoreState): {\r\n    messages:Message[];\r\n    username:string;\r\n    avatar:string;\r\n} => ({\r\n    messages,\r\n    username,\r\n    avatar,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) =>\r\n    bindActionCreators(\r\n        {\r\n            sendMessageAction,\r\n            startSocketAction,\r\n        },\r\n        dispatch,\r\n    );\r\n\r\ntype StateProps = ReturnType<typeof mapStateToProps>;\r\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\r\nexport type Props = StateProps & DispatchProps;\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Messenger);\r\n","import React, { FC, memo, useState, useMemo, MouseEventHandler, useContext } from 'react';\r\nimport { AppBar, Menu, MenuItem, IconButton, Toolbar, Typography, Slide, Collapse } from '@material-ui/core';\r\nimport { useScrollTrigger } from '@material-ui/core';\r\n\r\nimport { Brightness4, KeyboardArrowDown, KeyboardArrowUp } from '@material-ui/icons';\r\nimport HelpIcon from '@material-ui/icons/HelpOutline';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport Drawer from '../Drawer';\r\n\r\nimport Modal from '../Modal';\r\nimport classNames from 'classnames';\r\nimport useStyles from '../../styles/appBar';\r\n\r\nimport { Props } from '../../containers/AppBar';\r\nimport { ThemeContext } from '../../styles/withRoot';\r\nimport TipButton from '../SmallComponents/TipButton';\r\n\r\nimport Messenger from '../../containers/Messenger';\r\n\r\nconst Bar: FC<Props> = memo(({ updateSudokuAction, playRoundBackwardAction }) => {\r\n    const classes = useStyles();\r\n\r\n    const [open, setOpen] = useState(true);\r\n    const [right, setRight] = useState(false);\r\n    const [anchorEl, setAnchorEl] = useState<Element | null>(null);\r\n    const [helper, setHelper] = useState(false);\r\n    const [drawer, setDrawer] = useState(false);\r\n    const [messenger,setMessenger]=useState(false);\r\n    const { darkMode, setDarkMode } = useContext(ThemeContext); // eslint-disable-line\r\n\r\n    const handleClickPerson: MouseEventHandler = ({ currentTarget }) => {\r\n        setAnchorEl(currentTarget);\r\n    };\r\n    const handleClosePerson = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    const toggleOpen = () => {\r\n        setOpen((open) => !open);\r\n    };\r\n    const toggleRight = () => {\r\n        setRight((right) => !right);\r\n    };\r\n    const toggleHelper = () => {\r\n        setHelper((prev) => !prev);\r\n    };\r\n    const toggleDrawer = () => {\r\n        setDrawer((drawer) => !drawer);\r\n    };\r\n    const toggleMessenger=()=>{\r\n        setMessenger((messenger)=>!messenger);\r\n    }\r\n\r\n    const HelpMessage = useMemo(() => <Typography>这里是我们要做的东西</Typography>, []);\r\n\r\n    const trigger = useScrollTrigger({ target: undefined });\r\n\r\n    return (\r\n        <>\r\n            <Slide appear={false} direction='down' in={open}>\r\n                <AppBar\r\n                    position='fixed'\r\n                    className={classNames(classes.appBar, {\r\n                        [classes.appBarShift]: right,\r\n                    })}>\r\n                    <Toolbar\r\n                        disableGutters={!right}\r\n                        classes={{ gutters: classes.appBarGutters, regular: classes.regular }}>\r\n                        {useMemo(\r\n                            () => (\r\n                                <IconButton\r\n                                    color='inherit'\r\n                                    className={classNames(classes.menuButton, {})}\r\n                                    onClick={() => {\r\n                                        toggleDrawer();\r\n                                        toggleRight();\r\n                                    }}>\r\n                                    <MenuIcon />\r\n                                </IconButton>\r\n                            ),\r\n                            // eslint-disable-next-line\r\n                            [right, classes.menuButton],\r\n                        )}\r\n\r\n                        {useMemo(\r\n                            () => (\r\n                                <div className={classNames(classes.rightButtons)}>\r\n                                    <TipButton\r\n                                        TooltipProp={{ title: 'Messenger', children: <></> }}\r\n                                        IconButtonProp={{ onClick:toggleMessenger, color: 'inherit' }}>\r\n                                        <ChatIcon />\r\n                                    </TipButton>\r\n                                    <TipButton\r\n                                        TooltipProp={{ title: 'Help', children: <></> }}\r\n                                        IconButtonProp={{ onClick:toggleHelper, color: 'inherit' }}>\r\n                                        <HelpIcon />\r\n                                    </TipButton>\r\n                                    <TipButton\r\n                                        TooltipProp={{ title: 'Dark', children: <></> }}\r\n                                        IconButtonProp={{\r\n                                            onClick:setDarkMode,\r\n                                            color: 'inherit',\r\n                                        }}>\r\n                                        <Brightness4 />\r\n                                    </TipButton>\r\n                                    <TipButton\r\n                                        TooltipProp={{ title: 'Logout', children: <></> }}\r\n                                        IconButtonProp={{ onClick: handleClickPerson, color: 'inherit' }}>\r\n                                        <PersonIcon />\r\n                                    </TipButton>\r\n                                </div>\r\n                            ),\r\n                            // eslint-disable-next-line\r\n                            [right, classes.rightButtons],\r\n                        )}\r\n                        <Menu anchorEl={anchorEl} open={Boolean(anchorEl)} onClose={handleClosePerson}>\r\n                            <MenuItem>退出</MenuItem>\r\n                        </Menu>\r\n                    </Toolbar>\r\n                </AppBar>\r\n            </Slide>\r\n            <Collapse in={messenger} classes={{ container: classes.collapse }}>\r\n                <Messenger />\r\n            </Collapse>\r\n            <Modal title='help' open={helper} onClose={toggleHelper}>\r\n                {HelpMessage}\r\n            </Modal>\r\n            <Drawer open={drawer} />\r\n            <TipButton\r\n                TooltipProp={{ title: open ? '隐藏' : '显示', children: <></> }}\r\n                IconButtonProp={{\r\n                    className: classNames(classes.hideButtonShowing, {\r\n                        [classes.hideButton]: !open,\r\n                    }),\r\n                    onClick: toggleOpen,\r\n                }}>\r\n                <KeyboardArrowUp\r\n                    className={classNames({\r\n                        [classes.hide]: !open,\r\n                    })}\r\n                />\r\n                <KeyboardArrowDown\r\n                    className={classNames({\r\n                        [classes.hide]: open,\r\n                    })}\r\n                />\r\n            </TipButton>\r\n        </>\r\n    );\r\n});\r\n\r\nexport default Bar;\r\n","import { connect } from 'react-redux';\r\nimport { Dispatch, bindActionCreators } from 'redux';\r\n\r\nimport { updateSudokuAction, playRoundBackwardAction } from '../../actions';\r\n\r\nimport AppBar from '../../components/AppBar';\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) =>\r\n    bindActionCreators(\r\n        {\r\n            updateSudokuAction,\r\n            playRoundBackwardAction,\r\n        },\r\n        dispatch,\r\n    );\r\n\r\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\r\n\r\nexport type Props = DispatchProps;\r\n\r\nexport default connect(null, mapDispatchToProps)(AppBar);\r\n","  \r\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\r\nimport { createStyles, makeStyles } from '@material-ui/styles';\r\n\r\nconst useStyles = makeStyles(({ palette, spacing, breakpoints }: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            display: 'flex',\r\n        },\r\n        content: {\r\n            flexGrow: 1,\r\n            marginTop: spacing(8),\r\n            height: 'calc(100vh - 64px)',\r\n            overflowX: 'auto',\r\n            [breakpoints.down('sm')]: {\r\n                marginTop: spacing(6),\r\n                height: 'calc(100vh - 48px)',\r\n            },\r\n        },\r\n    }),\r\n);\r\n\r\nexport default useStyles;","import React, { FC, memo} from 'react';\r\n\r\nimport Progress from '../Progress';\r\n\r\nimport AppBar from '../../containers/AppBar';\r\nimport { Props } from '../../containers/Frame';\r\n\r\nimport useStyles from '../../styles/frame';\r\n\r\nconst Frame: FC<Props> = memo(\r\n    ({\r\n        children,\r\n        userInfo,\r\n        loading,\r\n    }) => {\r\n        const classes = useStyles();\r\n\r\n        return (\r\n            <div className={classes.root}>\r\n                <AppBar />\r\n                <main className={classes.content}>\r\n                    {userInfo && children}\r\n                </main>\r\n                {loading && <Progress />}\r\n            </div>\r\n        )\r\n    },\r\n);\r\n\r\nexport default Frame;","import { connect} from 'react-redux';\r\nimport { Dispatch, bindActionCreators } from 'redux';\r\n\r\nimport {} from '../../actions';\r\nimport { StoreState } from '../../reducers';\r\n\r\nimport Frame from '../../components/Frame';\r\nimport { Userinfo } from '../../types';\r\n\r\nconst mapStateToProps = ({ User:{info,loading} }: StoreState): {\r\n    userInfo:Userinfo;\r\n    loading:boolean;\r\n} => ({\r\n    userInfo:info,\r\n    loading,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) =>\r\n    bindActionCreators(\r\n        {\r\n        },\r\n        dispatch,\r\n    );\r\n\r\ntype StateProps = ReturnType<typeof mapStateToProps>;\r\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\r\nexport type Props = StateProps & DispatchProps;\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Frame);\r\n","import React, { FC, lazy, memo,Suspense } from 'react';\r\nimport { Route,Switch, withRouter,RouteComponentProps,Redirect } from 'react-router';\r\nimport SnackBar from '../components/SnackBar';\r\nimport withRoot from '../styles/withRoot';\r\nimport Progress from '../components/Progress';\r\nimport Frame from '../containers/Frame';\r\nconst Game=lazy(()=>import('./game'));\r\nconst Index: FC = memo(() => {\r\n\r\n    const routeRender = (Component: JSX.Element) => (props: RouteComponentProps) => (\r\n        <Frame {...props}>\r\n            <Suspense fallback={<Progress />}>{Component}</Suspense>\r\n        </Frame>\r\n    );\r\n\r\n    const RedirectToGame:FC=memo(()=>(<Redirect to='/game' />));\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <SnackBar>\r\n                <Switch>\r\n                    <Route path='/game' render={routeRender(<Game />)} />\r\n                    <Route path='/' component={RedirectToGame} />\r\n                </Switch>\r\n            </SnackBar>\r\n        </React.Fragment>\r\n    );\r\n});\r\n\r\nexport default withRouter(withRoot(Index));\r\n","export const API = 'http://hustunique.com:5000';\r\n","import getserverValueEpic from './Counters';\r\n\r\nconst epics=[getserverValueEpic];\r\n\r\nexport default epics;\r\n","import { Action, AnyAction } from 'redux';\r\nimport {ofType,} from 'redux-observable';\r\nimport {of} from 'rxjs';\r\nimport { ajax } from 'rxjs/ajax';\r\nimport {mergeMap,} from 'rxjs/operators';\r\n\r\nimport { GetserverValue, GET_SERVERVALUE, serverValueFulfilled } from '../../actions';\r\nimport {Epic} from '../';\r\nimport { API } from '../../config/consts';\r\n\r\nexport const getserverValueEpic:Epic<GetserverValue> = (action$,state$,{}) =>\r\n    action$.pipe(\r\n        ofType<Action,GetserverValue>(GET_SERVERVALUE),\r\n        mergeMap(() =>\r\n            ajax.getJSON<{ type: string; message: string }>(`${API}/user/qrCode`).pipe(\r\n                mergeMap((res) => {\r\n                    if (res.type === 'success') {\r\n                        return of(serverValueFulfilled(res.type, res.message));\r\n                    }\r\n                    throw Error(res.message);\r\n                }),\r\n            ),\r\n        ),\r\n    );\r\n\r\nexport default getserverValueEpic;\r\n","import socketConnectEpic from './socketConnect';\r\nimport socketReceiveEpic from './socketReceive';\r\n\r\nconst epics=[socketConnectEpic,socketReceiveEpic]\r\n\r\nexport default epics;","import { ofType } from 'redux-observable';\r\nimport {Epic,Socket} from '../';\r\nimport {START_SOCKET} from '../../actions';\r\nimport {Observable} from 'rxjs';\r\nimport {switchMap,tap,ignoreElements} from 'rxjs/operators';\r\nimport {API} from '../../config/consts';\r\n\r\nexport const socketConnectEpic:Epic=(action$,state$,{io,socket$})=>\r\n    action$.pipe(\r\n        ofType(START_SOCKET),\r\n        switchMap(\r\n            ()=>\r\n                new Observable<Socket>((o)=>{\r\n                    const socket=io(API);\r\n                    socket.on('connect',()=>o.next(socket));\r\n                    socket.on('disconnect',socket.close);\r\n                })\r\n        ),\r\n        tap(socket$),\r\n        ignoreElements(),\r\n    )\r\n\r\nexport default socketConnectEpic;","import {Action} from 'redux';\r\nimport {Epic} from '../';\r\nimport {addMessageAction} from '../../actions';\r\nimport {switchMap} from 'rxjs/operators';\r\nimport {EMPTY,Observable} from 'rxjs';\r\nimport {Message} from '../../types';\r\n\r\nexport const socketReceiveEpic:Epic=(action$,state$,{socket$})=>\r\n    socket$.pipe(\r\n        switchMap((socket)=>\r\n            !socket\r\n                ? EMPTY\r\n                : new Observable<Action>((o)=>{\r\n                    /** 接收到消息*/\r\n                    socket.on('message',({message}:{message:Message})=>{\r\n                        o.next(addMessageAction({...message,isSelf:false}));\r\n                    });\r\n\r\n                    socket.on('id',({id}:{id:number})=>{\r\n                        console.log(id);\r\n                    });\r\n                })\r\n        ),\r\n    );\r\n\r\nexport default socketReceiveEpic;","import sendMessageEpic from './sendMessage';\r\n\r\nconst epics=[sendMessageEpic];\r\n\r\nexport default epics;","import {Action} from 'redux';\r\nimport { ofType } from 'redux-observable';\r\nimport {Epic, errHandler} from '..';\r\nimport {SendMessage,SEND_MESSAGE,addMessageAction} from '../../actions';\r\nimport {switchMap,tap,map,catchError} from 'rxjs/operators';\r\nimport {EMPTY} from 'rxjs';\r\n\r\nexport const sendMessageEpic:Epic<SendMessage>=(action$,state$,{socket$})=>\r\n    socket$.pipe(\r\n        switchMap((socket)=>{\r\n            if(!socket) return EMPTY;\r\n            return action$.pipe(\r\n                ofType<Action,SendMessage>(SEND_MESSAGE),\r\n                tap(({message}:SendMessage)=>{\r\n                    socket.emit('message',{message});\r\n                    console.log(\"emit message finish\");\r\n                }),\r\n                map(({message}:SendMessage)=>{\r\n                    return addMessageAction(message);\r\n                }),\r\n                catchError((err)=>errHandler(err)),\r\n            );\r\n        }),\r\n        catchError((err)=>errHandler(err)),\r\n    );\r\n\r\nexport default sendMessageEpic;","import { Action, AnyAction } from 'redux';\r\nimport {\r\n    ActionsObservable,\r\n    combineEpics,\r\n    createEpicMiddleware,\r\n    EpicMiddleware,\r\n    StateObservable,\r\n} from 'redux-observable';\r\n\r\nimport { BehaviorSubject, Observable,EMPTY} from 'rxjs';\r\nimport io from 'socket.io-client';\r\nimport { VariantType } from 'notistack';\r\nimport { StoreState } from '../reducers';\r\n\r\nimport counters from './Counters';\r\nimport webSocket from './webSocket';\r\nimport chat from './chat';\r\n\r\nexport type Socket = typeof io.Socket;\r\n\r\ninterface CustomError extends Error {\r\n    message: string;\r\n    type?: VariantType;\r\n}\r\n\r\nexport const customError = (error: object) => {\r\n    const err = new Error(error['message']);\r\n    err['type'] = error['type'];\r\n    return err as CustomError;\r\n};\r\n\r\nexport const errHandler = ({ message, type }: CustomError, customAction?: AnyAction) =>{\r\n    return EMPTY;\r\n}\r\n\r\nconst dependencies = { io, socket$: new BehaviorSubject((null as unknown) as Socket), sessionStorage };\r\n\r\nexport type Dependencies = typeof dependencies;\r\n\r\nexport type Epic<T extends Action = Action> = (\r\n    action$: ActionsObservable<Action>,\r\n    state$: StateObservable<StoreState>,\r\n    dependencies: Dependencies,\r\n) => Observable<AnyAction>;\r\n\r\nexport const epicMiddleware: EpicMiddleware<Action, Action, StoreState> = createEpicMiddleware({\r\n    dependencies,\r\n});\r\n\r\nexport const epics = combineEpics(\r\n    ...counters,\r\n    ...webSocket,\r\n    ...chat,\r\n);","import { createBrowserHistory as createHistory } from 'history';\r\nimport React, { FC, memo } from 'react';\r\nimport './App.css';\r\nimport { applyMiddleware, createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport { reducers } from './reducers';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport Index from './views';\r\nimport { epicMiddleware, epics } from './epics';\r\ncreateHistory();\r\n\r\nconst middleware = [epicMiddleware];\r\n\r\nexport const store = createStore(reducers, composeWithDevTools(applyMiddleware(...middleware)));\r\n\r\nepicMiddleware.run(epics);\r\n\r\nconst App: FC = memo(() => {\r\n    return (\r\n        <Provider store={store}>\r\n            <Router>\r\n                <Index />\r\n            </Router>\r\n        </Provider>\r\n    );\r\n});\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n    if (onPerfEntry && onPerfEntry instanceof Function) {\r\n        import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n            getCLS(onPerfEntry);\r\n            getFID(onPerfEntry);\r\n            getFCP(onPerfEntry);\r\n            getLCP(onPerfEntry);\r\n            getTTFB(onPerfEntry);\r\n        });\r\n    }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import React, { FC, memo } from 'react';\r\nimport { Tooltip, IconButton, TooltipProps, IconButtonProps } from '@material-ui/core';\r\n/**\r\n * 包装了 Tooltip和 IconButton的一个组件，将属性传下去。为了减少缩进？\r\n *  <Tooltip {...TooltipProp}>\r\n *      <IconButton {...IconButtonProp} >\r\n *          {children}\r\n *      </IconButton>\r\n *  </Tooltip>\r\n * @property TooltipProps: 放到Tooltip中的 Props\r\n * @property IconButtonProps: 放到IconButton中的 Props\r\n */\r\nexport const TipButton: FC<{ TooltipProp: TooltipProps; IconButtonProp: IconButtonProps }> = memo(\r\n    ({ TooltipProp, IconButtonProp, children }) => {\r\n        return (\r\n            <Tooltip {...TooltipProp}>\r\n                <IconButton {...IconButtonProp}>{children}</IconButton>\r\n            </Tooltip>\r\n        );\r\n    },\r\n);\r\n\r\nexport default TipButton;\r\n","import React, { ComponentType, createContext, useEffect, useState } from 'react';\r\n\r\nimport blue from '@material-ui/core/colors/blue';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { ThemeProvider } from '@material-ui/core/styles';\r\nimport createMuiTheme from '@material-ui/core/styles/createMuiTheme';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\n\r\ninterface ContextProps {\r\n    darkMode: boolean;\r\n    setDarkMode: () => void;\r\n}\r\n\r\nexport const ThemeContext = createContext<ContextProps>({\r\n    darkMode: false,\r\n    setDarkMode: () => null,\r\n});\r\n\r\nconst darkTheme = createMuiTheme({\r\n    palette: {\r\n        type: 'dark',\r\n        primary: {\r\n            main: '#343434',\r\n            dark: '#000000',\r\n            light: '#484848',\r\n            contrastText: '#ffffff',\r\n        },\r\n        secondary: {\r\n            main: '#ff7597',\r\n        },\r\n        background: {\r\n            default: '#121212',\r\n        },\r\n        boardBackgroundColor: {\r\n            main: '#000000',\r\n            contrastText:'#ffffff',\r\n        },\r\n        optionNumberBackgroudColor:{\r\n            main:'#000000',\r\n            contrastText:'#ffffff',\r\n        },\r\n        numberBackgroundColor:{\r\n            main:'rgba(0,0,0,0)',\r\n            contrastText:'#ffffff',\r\n        }\r\n    },\r\n    overrides: {\r\n        MuiIconButton: {\r\n            colorPrimary: {\r\n                color: 'white',\r\n            },\r\n        },\r\n        MuiButton: {\r\n            textPrimary: {\r\n                color: 'white',\r\n            },\r\n        },\r\n        MuiCheckbox: {\r\n            colorPrimary: {\r\n                // override the checked checkbox styles\r\n                // ref: https://material-ui.com/customization/components/#use-rulename-to-reference-a-local-rule-within-the-same-style-sheet\r\n                '&$checked': 'inherit',\r\n            },\r\n        },\r\n    },\r\n});\r\n\r\nconst defaultTheme = createMuiTheme({\r\n    palette: {\r\n        primary: blue,\r\n        background: {\r\n            default: '#f1f1f1',\r\n        },\r\n        boardBackgroundColor: {\r\n            main: '#FF8000',\r\n        },\r\n        numberBackgroundColor:{\r\n            main:'rgba(0,0,0,0)',\r\n            contrastText:'#ffffff',\r\n        },\r\n        optionNumberBackgroudColor:{\r\n            main:'rgba(0,0,0,0)',\r\n            contrastText:\"#ffffff\",\r\n        },\r\n    },\r\n});\r\n\r\n// https://github.com/mui-org/material-ui/blob/master/examples/create-react-app-with-typescript/src/withRoot.tsx\r\nfunction withRoot<T>(Component: ComponentType<T>) {\r\n    return (props: T) => {\r\n        const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\r\n        const [darkMode, setDarkMode] = useState(false);\r\n\r\n        // using a stand alone `useEffect()` because I would like to\r\n        // switch theme mode automaticly when system setting change (e.g. useMediaQuery returns)\r\n        useEffect(() => {\r\n            setDarkMode(prefersDarkMode);\r\n        }, [prefersDarkMode]);\r\n\r\n        return (\r\n            <ThemeContext.Provider value={{ darkMode, setDarkMode: () => setDarkMode(!darkMode) }}>\r\n                <ThemeProvider theme={darkMode ? darkTheme : defaultTheme}>\r\n                    <CssBaseline />\r\n                    <Component {...props} />\r\n                </ThemeProvider>\r\n            </ThemeContext.Provider>\r\n        );\r\n    };\r\n}\r\n\r\nexport default withRoot;\r\n"],"sourceRoot":""}